<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Stock Alpha Scanner{% endblock %}</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>&#x1f4c8;</text></svg>">
    <meta property="og:title" content="Stock Alpha Scanner">
    <meta property="og:description" content="{{ buy_count }} BUY signal{{ 's' if buy_count != 1 }} this week from {{ stocks_scanned }} stocks scanned across AEX, DAX, CAC40, FTSE100, DJIA &amp; NASDAQ.">
    <meta property="og:type" content="website">
    <meta name="description" content="Weekly AI-powered stock scanner. {{ buy_count }} BUY signals from {{ stocks_scanned }} stocks.">
    {% block head %}{% endblock %}
    <style>
        :root {
            --bg: #0d1117; --card: #161b22; --card2: #21262d;
            --text: #e6edf3; --dim: #8b949e; --border: #30363d;
            --buy: #238636; --buyT: #3fb950;
            --hold: #1f6feb; --holdT: #58a6ff;
            --avoid: #da3633; --avoidT: #f85149;
            --link: #58a6ff;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: var(--bg); color: var(--text); line-height: 1.5; }
        .container { max-width: 960px; margin: 0 auto; padding: 2rem; }
        .pos { color: var(--buyT); }
        .neg { color: var(--avoidT); }

        /* Navigation */
        .nav { background: var(--card); border-bottom: 1px solid var(--border); position: sticky; top: 0; z-index: 100; }
        .nav-inner { max-width: 960px; margin: 0 auto; padding: 0 2rem; display: flex; align-items: center; gap: 0; }
        .nav-brand { font-size: 0.9rem; font-weight: 700; color: var(--text); text-decoration: none; padding: 0.75rem 0; margin-right: 1.5rem; white-space: nowrap; flex-shrink: 0; }
        .nav-links { display: flex; gap: 0; overflow-x: auto; -webkit-overflow-scrolling: touch; scrollbar-width: none; flex: 1; min-width: 0; }
        .nav-links::-webkit-scrollbar { display: none; }
        .nav-link { padding: 0.75rem 0.85rem; font-size: 0.8rem; color: var(--dim); text-decoration: none; font-weight: 500; white-space: nowrap; border-bottom: 2px solid transparent; transition: color 0.15s, border-color 0.15s; min-height: 44px; display: flex; align-items: center; }
        .nav-short { display: none; }
        .nav-full { display: inline; }
        .nav-link:hover { color: var(--text); }
        .nav-link.active { color: var(--text); border-bottom-color: var(--link); }
        .nav-meta { margin-left: auto; font-size: 0.7rem; color: var(--dim); white-space: nowrap; padding: 0.75rem 0; }
        .nav-pills { display: flex; gap: 0.6rem; margin-left: auto; padding: 0.75rem 0; flex-shrink: 0; }
        .nav-pill { font-size: 0.7rem; font-weight: 700; padding: 0.15rem 0.5rem; border-radius: 10px; }
        .nav-pill.buy { background: rgba(35,134,54,0.15); color: var(--buyT); }
        .nav-pill.hold { background: rgba(31,111,235,0.15); color: var(--holdT); }
        .nav-pill.avoid { background: rgba(218,54,51,0.15); color: var(--avoidT); }

        /* Footer */
        footer { margin-top: 3rem; padding-top: 1rem; border-top: 1px solid var(--border); text-align: center; color: var(--dim); font-size: 0.75rem; }
        footer a { color: var(--link); text-decoration: none; }
        .disc { font-style: italic; margin-top: 0.3rem; }

        /* Mobile */
        @media (max-width: 600px) {
            .container { padding: 0.75rem; }
            .nav-inner { padding: 0 0.75rem; }
            .nav-brand { font-size: 0.8rem; margin-right: 0.5rem; }
            .nav-link { padding: 0.75rem 0.5rem; font-size: 0.75rem; }
            .nav-short { display: inline; }
            .nav-full { display: none; }
            .nav-pills { display: none; }
            footer { font-size: 0.7rem; margin-top: 2rem; }
        }

        {% block style %}{% endblock %}
    </style>
</head>
<body>
    <nav class="nav">
        <div class="nav-inner">
            <a href="index.html" class="nav-brand">Stock Alpha</a>
            <div class="nav-links">
                <a href="index.html" class="nav-link{% if active_page == 'overview' %} active{% endif %}">Overview</a>
                <a href="picks.html" class="nav-link{% if active_page == 'picks' %} active{% endif %}">Picks{% if buy_count %} <span style="color:var(--buyT)">({{ buy_count }})</span>{% endif %}</a>
                <a href="performance.html" class="nav-link{% if active_page == 'performance' %} active{% endif %}"><span class="nav-full">Performance</span><span class="nav-short">Perf</span></a>
                <a href="methodology.html" class="nav-link{% if active_page == 'methodology' %} active{% endif %}"><span class="nav-full">Methodology</span><span class="nav-short">Method</span></a>
            </div>
            <div class="nav-pills">
                <span class="nav-pill buy">{{ buy_count }} BUY</span>
                <span class="nav-pill hold">{{ hold_count }} HOLD</span>
                <span class="nav-pill avoid">{{ avoid_count }} AVOID</span>
            </div>
        </div>
    </nav>

    <div class="container">
        {% block content %}{% endblock %}

        <footer>
            <p>Data: <a href="https://finance.yahoo.com">Yahoo Finance</a> & <a href="https://twelvedata.com">Twelve Data</a> | AI: <a href="https://perplexity.ai">Perplexity</a></p>
            <p class="disc">Signal generation only. Not financial advice.</p>
        </footer>
    </div>

    {% block scripts %}{% endblock %}
</body>
</html>
